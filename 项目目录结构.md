# 学生成绩查询系统 - 项目目录结构

## 整体项目结构

```
Student-Academic-Performance-Management-System/
├── README.md                           # 项目说明文档
├── 系统架构设计.md                      # 系统架构设计文档
├── 项目目录结构.md                      # 本文件
├── 数据库设计.md                        # 数据库设计文档
├── Redis缓存和限流实现说明.md            # Redis缓存和限流实现说明
│
├── frontend/                           # 前端项目目录
│   ├── package.json                    # 前端依赖配置
│   ├── package-lock.json               # 依赖锁定文件
│   ├── vite.config.ts                  # Vite构建配置
│   ├── tsconfig.json                   # TypeScript配置
│   ├── index.html                      # HTML模板
│   ├── src/                            # 源代码目录
│   │   ├── main.tsx                    # 应用入口文件
│   │   ├── App.tsx                     # 根组件
│   │   ├── api/                        # API接口层
│   │   │   ├── http.ts                 # Axios配置
│   │   │   ├── auth.ts                 # 认证API
│   │   │   ├── grades.ts               # 成绩API
│   │   │   ├── students.ts             # 学生API
│   │   │   ├── teachers.ts             # 教师API
│   │   │   ├── courses.ts              # 课程API
│   │   │   ├── courseTimePeriods.ts    # 课程时间段API
│   │   │   └── timePeriods.ts          # 时间段API
│   │   ├── pages/                      # 页面组件
│   │   │   ├── Login.tsx               # 登录页面
│   │   │   ├── StudentGrades.tsx       # 学生成绩查询页面
│   │   │   ├── ImportGrades.tsx        # 教师成绩导入页面
│   │   │   ├── student/                # 学生相关页面
│   │   │   │   └── Profile.tsx         # 学生个人信息页面
│   │   │   ├── teacher/                # 教师相关页面
│   │   │   │   ├── MyCourses.tsx       # 我的课程页面
│   │   │   │   └── CourseStudents.tsx  # 课程学生页面
│   │   │   └── admin/                  # 管理员页面
│   │   │       ├── Students.tsx        # 学生管理页面
│   │   │       ├── Teachers.tsx        # 教师管理页面
│   │   │       ├── Courses.tsx         # 课程管理页面
│   │   │       └── TimePeriods.tsx     # 时间段管理页面
│   │   ├── components/                 # 通用组件
│   │   │   └── TemplateFormatHelp.tsx  # 模板格式帮助组件
│   │   └── store/                      # 状态管理
│   │       └── auth.ts                 # 认证状态管理
│   └── node_modules/                   # 依赖包目录
│
├── backend/                            # 后端项目目录
│   ├── pom.xml                         # Maven配置文件
│   ├── mvnw                            # Maven Wrapper脚本
│   ├── mvnw.cmd                        # Maven Wrapper脚本(Windows)
│   ├── src/                            # 源代码目录
│   │   ├── main/                       # 主要源代码
│   │   │   ├── java/                   # Java源代码
│   │   │   │   └── com/                # 包结构
│   │   │   │       └── fx/             # 主包
│   │   │   │           └── backend/    # 后端包
│   │   │   │               ├── BackendApplication.java # 启动类
│   │   │   │               ├── common/ # 通用组件
│   │   │   │               │   ├── api/ # API响应类
│   │   │   │               │   │   ├── ApiResponse.java # API响应基类
│   │   │   │               │   │   ├── ApiResult.java # 统一响应格式
│   │   │   │               │   │   ├── PageRequest.java # 分页请求
│   │   │   │               │   │   └── PageResponse.java # 分页响应
│   │   │   │               │   ├── cache/ # 缓存相关
│   │   │   │               │   │   ├── Cacheable.java # 缓存注解
│   │   │   │               │   │   └── CacheAspect.java # 缓存切面
│   │   │   │               │   ├── exception/ # 异常处理
│   │   │   │               │   │   ├── BusinessException.java # 业务异常
│   │   │   │               │   │   └── GlobalExceptionHandler.java # 全局异常处理
│   │   │   │               │   ├── jwt/ # JWT相关
│   │   │   │               │   │   ├── JwtUtil.java # JWT工具类
│   │   │   │               │   │   ├── JwtAuthInterceptor.java # JWT认证拦截器
│   │   │   │               │   │   ├── RoleInterceptor.java # 角色拦截器
│   │   │   │               │   │   ├── RoleRequired.java # 角色注解
│   │   │   │               │   │   └── CurrentUser.java # 当前用户注解
│   │   │   │               │   └── ratelimit/ # 限流相关
│   │   │   │               │       ├── RateLimit.java # 限流注解
│   │   │   │               │       └── RateLimitAspect.java # 限流切面
│   │   │   │               ├── config/ # 配置类
│   │   │   │               │   ├── WebMvcConfig.java # Web配置
│   │   │   │               │   ├── OpenApiConfig.java # Swagger配置
│   │   │   │               │   └── RedisConfig.java # Redis配置
│   │   │   │               ├── domain/ # 领域层
│   │   │   │               │   └── entity/ # 实体类
│   │   │   │               │       ├── User.java # 用户实体
│   │   │   │               │       ├── Student.java # 学生实体
│   │   │   │               │       ├── Teacher.java # 教师实体
│   │   │   │               │       ├── Course.java # 课程实体
│   │   │   │               │       ├── Grade.java # 成绩实体
│   │   │   │               │       ├── TimePeriod.java # 时间段实体
│   │   │   │               │       ├── TeacherCourse.java # 教师课程关联实体
│   │   │   │               │       ├── CourseTimePeriod.java # 课程时间段实体
│   │   │   │               │       ├── GradeWithCourseInfo.java # 成绩课程信息实体
│   │   │   │               │       ├── StudentCourseInfo.java # 学生课程信息实体
│   │   │   │               │       └── GradeImportData.java # 成绩导入数据实体
│   │   │   │               ├── mapper/ # MyBatis映射器
│   │   │   │               │   ├── UserMapper.java # 用户映射器
│   │   │   │               │   ├── StudentMapper.java # 学生映射器
│   │   │   │               │   ├── TeacherMapper.java # 教师映射器
│   │   │   │               │   ├── CourseMapper.java # 课程映射器
│   │   │   │               │   ├── GradeMapper.java # 成绩映射器
│   │   │   │               │   ├── TimePeriodMapper.java # 时间段映射器
│   │   │   │               │   ├── TeacherCourseMapper.java # 教师课程映射器
│   │   │   │               │   └── CourseTimePeriodMapper.java # 课程时间段映射器
│   │   │   │               ├── service/ # 服务层
│   │   │   │               │   ├── StudentService.java # 学生服务
│   │   │   │               │   ├── TeacherService.java # 教师服务
│   │   │   │               │   ├── CourseService.java # 课程服务
│   │   │   │               │   ├── GradeService.java # 成绩服务
│   │   │   │               │   ├── TimePeriodService.java # 时间段服务
│   │   │   │               │   ├── BatchImportService.java # 批量导入服务
│   │   │   │               │   ├── CacheService.java # 缓存服务
│   │   │   │               │   ├── CourseTimePeriodService.java # 课程时间段服务
│   │   │   │               │   └── GradeImportData.java # 成绩导入数据服务
│   │   │   │               └── interfaces/ # 控制器层
│   │   │   │                   ├── AuthController.java # 认证控制器
│   │   │   │                   ├── StudentController.java # 学生控制器
│   │   │   │                   ├── TeacherController.java # 教师控制器
│   │   │   │                   ├── CourseController.java # 课程控制器
│   │   │   │                   ├── GradeController.java # 成绩控制器
│   │   │   │                   ├── TimePeriodController.java # 时间段控制器
│   │   │   │                   ├── CourseTimePeriodController.java # 课程时间段控制器
│   │   │   │                   ├── FileController.java # 文件控制器
│   │   │   │                   └── CacheTestController.java # 缓存测试控制器
│   │   │   └── resources/              # 资源文件
│   │   │       ├── application.properties # 应用配置
│   │   │       ├── mapper/             # MyBatis映射文件
│   │   │       │   ├── UserMapper.xml # 用户映射文件
│   │   │       │   ├── StudentMapper.xml # 学生映射文件
│   │   │       │   ├── TeacherMapper.xml # 教师映射文件
│   │   │       │   ├── CourseMapper.xml # 课程映射文件
│   │   │       │   ├── GradeMapper.xml # 成绩映射文件
│   │   │       │   ├── TimePeriodMapper.xml # 时间段映射文件
│   │   │       │   ├── TeacherCourseMapper.xml # 教师课程映射文件
│   │   │       │   └── CourseTimePeriodMapper.xml # 课程时间段映射文件
│   │   │       └── templates/          # 模板文件
│   │   │           ├── 成绩导入模板.csv # CSV导入模板
│   │   │           └── 成绩导入模板.xlsx # Excel导入模板
│   │   └── test/                       # 测试代码
│   │       ├── java/                   # 测试Java代码
│   │       │   └── com/fx/backend/     # 测试包
│   │       │       └── BackendApplicationTests.java # 应用测试
│   │       └── resources/             # 测试资源
│   └── target/                         # 编译输出目录
│       ├── classes/                    # 编译后的类文件
│       ├── generated-sources/          # 生成的源代码
│       └── maven-status/              # Maven状态文件
│
├── database/                           # 数据库相关文件
│   ├── init/                          # 初始化脚本
│   │   ├── 02-create-tables.sql       # 创建表结构
│   │   ├── 03-insert-sample-data.sql  # 插入示例数据
│   │   ├── 04-teacher-courses.sql     # 教师课程关联数据
│   │   ├── 05-course-time-periods.sql # 课程时间段数据
│   │   └── 06-update-students-table.sql # 更新学生表结构
│   ├── init-database.sql              # 数据库初始化脚本
│   ├── mock-data.sql                  # 模拟数据脚本
│   ├── quick-test-data.sql            # 快速测试数据脚本
│   └── README.md                      # 数据库说明文档
```

## 关键目录说明

### 前端目录 (frontend/)
- **api/**: API接口层，封装所有后端接口调用
  - `http.ts`: Axios配置，包含请求拦截器和响应拦截器
  - `auth.ts`: 认证相关API（登录、登出）
  - `grades.ts`: 成绩相关API（查询、导入）
  - `students.ts`: 学生相关API（个人信息管理）
  - `teachers.ts`: 教师相关API
  - `courses.ts`: 课程相关API（我的课程、课程学生）
  - `timePeriods.ts`: 时间段相关API
  - `courseTimePeriods.ts`: 课程时间段相关API
- **pages/**: 页面级组件，按功能模块组织
  - `Login.tsx`: 登录页面
  - `StudentGrades.tsx`: 学生成绩查询页面
  - `ImportGrades.tsx`: 教师批量导入成绩页面
  - `student/Profile.tsx`: 学生个人信息页面
  - `teacher/MyCourses.tsx`: 教师我的课程页面
  - `teacher/CourseStudents.tsx`: 课程学生查询页面
  - `admin/`: 管理员功能页面
- **components/**: 通用组件
  - `TemplateFormatHelp.tsx`: 模板格式帮助组件
- **store/**: 状态管理
  - `auth.ts`: 认证状态管理，包含登录状态、用户信息、角色权限等

### 后端目录 (backend/)
- **interfaces/**: REST API控制器层
  - `AuthController.java`: 认证控制器
  - `StudentController.java`: 学生管理控制器
  - `TeacherController.java`: 教师管理控制器
  - `CourseController.java`: 课程管理控制器
  - `GradeController.java`: 成绩管理控制器
  - `TimePeriodController.java`: 时间段管理控制器
  - `CourseTimePeriodController.java`: 课程时间段管理控制器
  - `FileController.java`: 文件上传下载控制器
  - `CacheTestController.java`: 缓存测试控制器
- **service/**: 业务逻辑服务层
  - `StudentService.java`: 学生业务逻辑
  - `TeacherService.java`: 教师业务逻辑
  - `CourseService.java`: 课程业务逻辑
  - `GradeService.java`: 成绩业务逻辑
  - `TimePeriodService.java`: 时间段业务逻辑
  - `BatchImportService.java`: 批量导入业务逻辑
  - `CacheService.java`: 缓存管理服务
  - `CourseTimePeriodService.java`: 课程时间段业务逻辑
- **mapper/**: MyBatis数据访问层
  - 对应每个实体类的数据访问接口
  - 包含基本的CRUD操作和复杂查询方法
- **domain/entity/**: 实体类，对应数据库表
  - `User.java`: 用户实体
  - `Student.java`: 学生实体
  - `Teacher.java`: 教师实体
  - `Course.java`: 课程实体
  - `Grade.java`: 成绩实体
  - `TimePeriod.java`: 时间段实体
  - `TeacherCourse.java`: 教师课程关联实体
  - `CourseTimePeriod.java`: 课程时间段实体
  - `GradeWithCourseInfo.java`: 成绩课程信息实体
  - `StudentCourseInfo.java`: 学生课程信息实体
  - `GradeImportData.java`: 成绩导入数据实体
- **common/**: 通用组件
  - `api/`: API响应格式和分页处理
  - `cache/`: 缓存注解和切面
  - `exception/`: 异常处理
  - `jwt/`: JWT认证相关
  - `ratelimit/`: 限流控制
- **config/**: 配置类
  - `WebMvcConfig.java`: Web MVC配置
  - `OpenApiConfig.java`: Swagger文档配置
  - `RedisConfig.java`: Redis缓存配置

### 数据库目录 (database/)
- **init/**: 数据库初始化脚本
  - `02-create-tables.sql`: 创建所有数据库表
  - `03-insert-sample-data.sql`: 插入测试数据
  - `04-teacher-courses.sql`: 教师课程关联数据
  - `05-course-time-periods.sql`: 课程时间段数据
  - `06-update-students-table.sql`: 更新学生表结构（添加个人信息字段）

## 开发环境要求

### 前端开发环境
- Node.js 18+
- npm 或 yarn
- TypeScript 5.6+
- Vite 5.4+
- React 18.3.1
- Ant Design 5.19.4

### 后端开发环境
- Java 21+
- Maven 3.8+
- Spring Boot 3.5.6
- MyBatis 3.0.3
- Redis 6.0+

### 数据库
- MySQL 8.0+
- 腾讯云MySQL (43.139.178.197:13306)
- 腾讯云Redis (43.139.178.197:26739)

### 开发工具
- IDE: IntelliJ IDEA 或 VS Code
- 数据库管理: MySQL Workbench 或 DBeaver
- API测试: Postman 或 Swagger UI
- 版本控制: Git

## 项目特色

### 1. 前后端分离架构
- 前端使用React + Vite构建
- 后端使用Spring Boot提供RESTful API
- 通过HTTP/HTTPS进行通信

### 2. 自定义JWT认证
- 完全自主实现的JWT认证系统
- 支持角色权限控制
- 前端路由权限控制

### 3. 缓存和限流
- Redis缓存集成
- 注解式缓存控制
- 接口限流控制

### 4. 批量导入功能
- 支持Excel和CSV文件
- 模板下载功能
- 数据验证和错误处理

### 5. 时间段控制
- 全局时间段控制
- 课程级别时间段控制
- 灵活的时间管理

### 6. 逻辑外键设计
- 不使用数据库物理外键
- 服务层数据一致性校验
- 灵活的数据库设计